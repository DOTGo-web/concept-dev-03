!function(e,n){function l(e,o){return typeof e===o}function i(e){var o=t.className,n=A._config.classPrefix||"";if(u&&(o=o.baseVal),A._config.enableJSClass){var a=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");o=o.replace(a,"$1"+n+"js$2")}A._config.enableClasses&&(o+=" "+n+e.join(" "+n),u?t.className.baseVal=o:t.className=o)}function r(e,o){if("object"==typeof e)for(var n in e)d(e,n)&&r(n,e[n]);else{var a=(e=e.toLowerCase()).split("."),t=A[a[0]];if(2==a.length&&(t=t[a[1]]),void 0!==t)return A;o="function"==typeof o?o():o,1==a.length?A[a[0]]=o:(!A[a[0]]||A[a[0]]instanceof Boolean||(A[a[0]]=new Boolean(A[a[0]])),A[a[0]][a[1]]=o),i([(o&&0!=o?"":"no-")+a.join("-")]),A._trigger(e,o)}return A}var c=[],s=[],o={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,o){var n=this;setTimeout(function(){o(n[e])},0)},addTest:function(e,o,n){s.push({name:e,fn:o,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},A=function(){};A.prototype=o,A=new A;var d,a,t=n.documentElement,u="svg"===t.nodeName.toLowerCase();d=void 0===(a={}.hasOwnProperty)||void 0===a.call?function(e,o){return o in e&&void 0===e.constructor.prototype[o]}:function(e,o){return a.call(e,o)},o._l={},o.on=function(e,o){this._l[e]||(this._l[e]=[]),this._l[e].push(o),A.hasOwnProperty(e)&&setTimeout(function(){A._trigger(e,A[e])},0)},o._trigger=function(e,o){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(o)},0),delete this._l[e]}},A._q.push(function(){o.addTest=r}),A.addAsyncTest(function(){function n(n,e,a){function o(e){var o=!(!e||"load"!==e.type)&&1==t.width;r(n,"webp"===n&&o?new Boolean(o):o),a&&a(e)}var t=new Image;t.onerror=o,t.onload=o,t.src=e}var a=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=a.shift();n(e.name,e.uri,function(e){if(e&&"load"===e.type)for(var o=0;o<a.length;o++)n(a[o].name,a[o].uri)})}),A.addTest("video",function(){var e=function(e){return"function"!=typeof n.createElement?n.createElement(e):u?n.createElementNS.call(n,"http://www.w3.org/2000/svg",e):n.createElement.apply(n,arguments)}("video"),o=!1;try{(o=!!e.canPlayType)&&((o=new Boolean(o)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),o.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),o.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),o.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),o.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return o}),function(){var e,o,n,a,t,i;for(var r in s)if(s.hasOwnProperty(r)){if(e=[],(o=s[r]).name&&(e.push(o.name.toLowerCase()),o.options&&o.options.aliases&&o.options.aliases.length))for(n=0;n<o.options.aliases.length;n++)e.push(o.options.aliases[n].toLowerCase());for(a=l(o.fn,"function")?o.fn():o.fn,t=0;t<e.length;t++)1===(i=e[t].split(".")).length?A[i[0]]=a:(!A[i[0]]||A[i[0]]instanceof Boolean||(A[i[0]]=new Boolean(A[i[0]])),A[i[0]][i[1]]=a),c.push((a?"":"no-")+i.join("-"))}}(),i(c),delete o.addTest,delete o.addAsyncTest;for(var p=0;p<A._q.length;p++)A._q[p]();e.Modernizr=A}(window,document);"use strict";var ua=window.navigator.userAgent,iOS=!!ua.match(/iPad/i)||!!ua.match(/iPhone/i),webkit=!!ua.match(/WebKit/i),iOSSafari=iOS&&webkit&&!ua.match(/CriOS/i),coverageVideo=document.querySelector("video#coverage"),topRatedVideo=document.querySelector("video#top-rated"),experienceVideo=document.querySelector("video#experience"),insuranceVideo=document.querySelector("video#insurance");console.log(iOSSafari);var hamburger={navToggle:document.querySelector(".nav-toggle"),nav:document.querySelector("nav"),doToggle:function(e){e.preventDefault(),this.navToggle.classList.toggle("expanded"),this.nav.classList.toggle("expanded")}};hamburger.navToggle.addEventListener("click",function(e){hamburger.doToggle(e)});var imageFallbacks=document.querySelectorAll(".image-fallback"),videos=document.querySelectorAll(".video-with-fallback");function isElementInViewport(e){var o=e.getBoundingClientRect();return 0<=o.top&&0<=o.left&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function playVideo(e,o){isElementInViewport(e)&&setTimeout(function(){if(e.playedThrough)e.pause();else try{e.muted=!0,e.play()}catch(e){}},o)}iOSSafari||(coverageVideo.onended=function(){this.playedThrough=!0},topRatedVideo.onended=function(){this.playedThrough=!0},experienceVideo.onended=function(){this.playedThrough=!0},insuranceVideo.onended=function(){this.playedThrough=!0}),iOSSafari?(document.querySelector("html").classList.add("ios-safari"),videos.forEach(function(e){e.parentNode.removeChild(e)}),imageFallbacks.forEach(function(e){e.style.display="block"})):(document.querySelector("html").classList.add("not-ios-safari"),imageFallbacks.forEach(function(e){e.parentNode.parentNode.removeChild(e.parentNode)}),videos.forEach(function(e){e.style.display="block"}),playVideo(coverageVideo,200),playVideo(topRatedVideo,1200),playVideo(experienceVideo,1200),playVideo(insuranceVideo,1200)),window.onscroll=function(e){iOSSafari||(playVideo(coverageVideo,200),playVideo(topRatedVideo,1200),playVideo(experienceVideo,1200),playVideo(insuranceVideo,1200))};
//# sourceMappingURL=scripts.min.js.map